%---------------------------------------------------------------------
%
%                          Capítulo 7
%
%---------------------------------------------------------------------

\chapter{Software}

\begin{FraseCelebre}
\begin{Frase}
Too long, can you feel it? \\
Too long, oh can you feel it ?
\end{Frase}
\begin{Fuente}
Thomas \& Guy-Manuel, Daft Punk
\end{Fuente}
\end{FraseCelebre}

\begin{resumen}
This chapter gives a vision about the main adaptations required for the firmware to be adapted to the platform, new software implementations and behaviour of the final demo application.
\end{resumen}

%-------------------------------------------------------------------
\section{Tools}
%-------------------------------------------------------------------
\label{cap7:sec:tools}
%-------------------------------------------------------------------

%-------------------------------------------------------------------
\subsection{MPLAB X}
%-------------------------------------------------------------------
\label{cap7:sub:mplabx}
%-------------------------------------------------------------------
MPLAB X \ac{IDE} is a multiplatform software program to develop applications for Microchip microcontrollers and digital signal controllers. It is called an Integrated Development Environment  because it provides a single integrated ``environment'' to develop code for embedded microcontrollers.

\figura{Bitmap/Capitulo7/mplabx}{width=.5\textwidth}{fig:cap7:mplabx}%
{MPLAB X IDE logo.}

MPLAB X is based on the open source NetBeans IDE from Oracle. Some of its main features are:

\begin{itemize}
    \item Supports Multiple Configurations within your projects.
    \item Support for multiple Debug Tools of the same type.
    \item Supports Live Parsing.
    \item Supports hyperlinks for fast navigation to declarations and includes.
    \item MPLAB X can Track Changes within your own system using local history.
\end{itemize}



%-------------------------------------------------------------------
\subsection{Programmer: ICD 3}
%-------------------------------------------------------------------
\label{cap7:sub:icd3}
%-------------------------------------------------------------------

\figura{Bitmap/Capitulo4/icd3}{width=.8\textwidth}{fig:cap4:icd3}%
{ICD3 programmer configuration.}

\ac{ICD} 3 is a device belonging to Microchip products that allows to get the microcontroller programmed. In addition, it enables run-time debugging using the \ac{IDE}. Up to 6 breakpoints can be enabled. This feature is quite valuable regarding the platform has a development character. Further information can be consulted at the manual\cite{icd3}.

%-------------------------------------------------------------------
\section{Firmware and Hardware Abstraction Layer}
%-------------------------------------------------------------------
\label{cap7:sec:hal}
%-------------------------------------------------------------------

When adapting the firmware to the developed hardware platform, it was needed to deal with minor changes resulting from its novelty and also because of required hardware adaptations.

Some minor bugs that impeded the right sleeping modes operation or the spectrum sensing were fixed. As well, due to lack of tests when using three \ac{RI}s at once, some software configurations were not properly set. Current firmware version corrects these issues and it is fully operative over the hardware.

Other adaptations taken when developing software aim at stablish better ease of use. An easier configuration scheme, \ac{USB} tracing modes, \ac{RI} power control functions, and new modules definition are the developed functionalities.

%-------------------------------------------------------------------
\subsection{Platform options}
%-------------------------------------------------------------------
\label{cap7:subsec:usbtraces}
%-------------------------------------------------------------------
When configuring the firmware to operate over different hardware platforms such as the \ac{FCD}, the \ac{FCD} on its expanded version, or the \ac{CNG}, it was needed to carry out several changes at the configuration firmware files.

With the changes that the current firmware implements, adapting the firmware to any of these platforms is done by changing a single option at \emph{HardwareConfig.h} file.

***************************
\begin{itemize}
\item
\item
\item
\end{itemize}



Basically, the old macros that used to be changed manually for each platform are now atomatically configured when set on of the previous options. Main changes take place over \ac{RI} configurations and pinouts.

%-------------------------------------------------------------------
\subsection{USB tracing}
%-------------------------------------------------------------------
\label{cap7:subsec:usbtraces}
%-------------------------------------------------------------------

%

%-------------------------------------------------------------------
\subsection{Radio Interfaces Power Control Functions}
%-------------------------------------------------------------------
\label{cap7:subsec:usbtraces}
%-------------------------------------------------------------------

%-------------------------------------------------------------------
\subsection{Headers and other new definitions}
%-------------------------------------------------------------------
\label{cap7:subsec:usbtraces}
%-------------------------------------------------------------------

%-------------------------------------------------------------------
\section{Demo Application Layer}
%-------------------------------------------------------------------
\label{cap7:sec:applicationLayer}
%-------------------------------------------------------------------

Demo application layer was thought to be showed during these Master thesis presentation. It implements a \ac{WSN} application in which a transmitter and receiver module set communication and exhibit some platform communication capabilities. 




%
% Variable local para emacs, para  que encuentre el fichero maestro de
% compilación y funcionen mejor algunas teclas rápidas de AucTeX
%%%
%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../Tesis.tex"
%%% End:
